Понадобилось использовать частотомер в режиме цифровой шкалы. Ввести значение промежуточной частоты оказалось практически невозможно. Для частоты 8.865 МГц надо сделать более 88 тысяч шагов. С учетом двух скоростей автоповтора и временем между шагами 60 мс такая операция займет 88650 * 0.06 = 5319 секунд или чуть более 88 минут. Но это еще пол беды. После ввода этой частоты переключиться в режим нормального измерения можно только установив это значение в ноль.

Созрела необходимость модернизации прошивки. Теперь по специальной комбинации кнопок "MENU" + "UP" из главного меню можно переключиться в режим отображения с учетом промежуточной частоты и обратно. 

Переделан модуль клавиатуры, сделано запоминание последнего режима работы, добавлено новое меню.

После проделанной работы и установки значения по умолчанию для промежуточной частоты в 8.865 МГц выяснилось, что алгоритм пересчета частоты в этом режиме содержит ошибку - переполнение переменной.

После исправления решил выделить общение с компьютером в отдельный модуль и добавить эту возможность для прошивки под 10-разрядный дисплей. Памяти немного не хватало, поэтому выкинул заставку при включении (для LCD10 варианта). Осталось 7 свободных байт.

Требуется тщательное тестирование, особенно версии для LCD16 (у меня нет такого варианта).